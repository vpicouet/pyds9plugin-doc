<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://vpicouet.github.io/pyds9plugin-doc/concept/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Concept and implementation - pyds9plugin doc</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Concept and implementation";
        var mkdocs_page_input_path = "concept.md";
        var mkdocs_page_url = "/pyds9plugin-doc/concept/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> pyds9plugin doc
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../user/">Tutorials</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../feature/">Important features</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../function/">All the functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Videos</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../videos_multi/">Multi-image processing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../videos_instru/">Instrumentation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../videos_soft/">Software</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../videos_generic/">Generic</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../philosophy/">Development philosophy</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Concept and implementation</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">pyds9plugin doc</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>About &raquo;</li><li>Concept and implementation</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/vpicouet/pyds9plugin-doc/edit/master/docs/concept.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="a-pythonic-package">A Pythonic package</h1>
<p>For all the reasons cited above, we decided to create the first Pythonic
<code>DS9</code> plugin: <code>pyds9plugin</code>. It is a public domain <code>DS9</code> extension for
quick-look image processing. It aims to extract quantifiable information
from imaging datasets with improved interaction. The plugin processing
functions can then be generalized automatically to a set of images to
turn the quick-look tool into a multiprocessing pipeline.</p>
<p>It enables new users, from undergraduate students to full-time
researchers, to actively interact (process, model, plot, etc.) with
astronomical image data with one integrated software package. This
package, available both on Pypi and
<a href="https://github.com/vpicouet/pyds9plugin">GitHub</a>, has been extensively
used within the FIREBall project and for CLAUDS catalogs generation.
Before going any further, I highly recommend watching this <a href="https://www.youtube.com/watch?v=XcDm2JQDMLY">youtube
video</a> for a better
understanding of the package. The other videos that are linked in the
document to present some functionality are all gathered
<a href="https://people.lam.fr/picouet.vincent/pyds9plugin/examples/features.html">here</a>.</p>
<h1 id="the-way-it-works">The way it works</h1>
<p><code>DS9</code> incorporates the possibility to load extensions via an <em>analysis
file</em>. When the plugin is installed and the <em>analysis file</em> loaded into
the <code>DS9</code> analysis menu, the extension can be used. The <em>analysis
file</em> is the interface linking <code>DS9</code> GUI with the plugin's functions.
This file determines what menu is created within <code>DS9</code>, what parameters windows each
function launches, and what <code>Shell</code> command is interpreted. An example
parameter window is shown in next Figure.</p>
<p>Each <code>pyds9plugin</code> function is stored under <code>DS9Utils</code> access point, which links to
<code>pyds9plugin.DS9Utils</code> module. Then command lines begin by <code>DS9Utils</code>
followed by the function to be called and its arguments. <code>pyds9plugin</code>
will then communicate, control, and exchange data with <code>DS9</code> GUI via
<code>pyds9</code> package. The way the extension operates is illustrated in next.</p>
<p><img alt="caption" src="../fig/work.jpg" />
<em>Diagram representing the way the plugin is loaded within <code>DS9</code> and called. <code>pyds9plugin</code> can be called from the terminal (through command lines) which bypasses the need for <code>DS9</code> GUI.</em></p>
<h2 id="communication">Communication</h2>
<p>Within the <code>DS9</code> program, the <code>XPA</code> (X Public Access) messaging system
has been designed to provide seamless communication between <code>DS9</code> GUI
and other Unix programs (Perl, Tcl/Tk). It also provides an easy way for
users to communicate with <code>DS9</code> by executing <code>XPA</code> client <code>shell</code>
commands. The <code>pyds9</code> module uses a Python interface for <code>XPA</code> to
communicate with <code>DS9</code>. It supports communication with all of <code>DS9</code>'s
<code>XPA</code> access points in two ways. It enables read and write access to all
<code>DS9</code> parameters, which allows controlling the display (load images,
display <code>NumPy</code> arrays and catalogs, change parameters, create regions /
<code>DS9</code> plots, etc.). One interest in using Python is to use the full
capability of its famous packages such as <code>matplotlib</code>, which offers
other possibilities than the <code>DS9</code> native plotting GUI.</p>
<p><img alt="caption" src="../fig/params.jpg" />
<em><code>SExtractor</code> parameters window allows to show the different parameter possibilities offered by <code>DS9</code>.  In addition to different menu types (entry, menu, and checkboxes, file system browser), the addition of tabs allows navigating through an important number of organized parameters.</em></p>
<h2 id="running-a-function">Running a function</h2>
<p>All the functions are directly accessible from <code>DS9</code> GUI (within the
analysis menu). Accessing a function will make appear a parameter window
that will then call the plugin.</p>
<p>Navigating through the list of <code>DS9Utils</code> functions can be quite
cumbersome for newcomers. <code>OSX</code> built-in Command Finder / Launcher
provides an expeditive alternative that allows retrieving commands
extremely fast.</p>
<p>Some fundamental functions are available through shortcuts to gain time.
The shortcuts are noted between parenthesis next to the function's name. The functions having a shortcut are: Open (o), lock (l), radial profile (r).</p>
<p><img alt="caption" src="../fig/commands.jpg" />
<em><code>pyds9plugin</code>'s functions divided in the three sub-extensions: generic functions, instrumentation and astronomical software. The terminal icon emphasize functions that do not require <code>DS9</code> to be launched, which can be interesting for generalizing the processing on a server. Most of these functions (highlighted with the wheel icon) are compatible with multi-image and multi-threaded analysis. Functions with enhanced interactivity based on pickable meta-data for instance are marked with the  interactivity icon.</em>
<img alt="caption" src="../fig/command_finder.jpg" />
<em>Functions are divided into three main menus: Generic functions, Instrumentation-AIT, and Astronomical software, and can be easily accessible via the command finder in the analysis menu bar</em></p>
<h2 id="logging-and-verbosity">Logging and verbosity</h2>
<p>The functions are silent when launched from <code>DS9</code> and will only return
nominal outputs (images, regions, messages). If the code encounters an
error, the error message will pop up. If you run the same command from
the terminal, you will have, in addition, all the verbosity from
<code>pyds9plugin</code>. On top of that, all the logging is saved in
<span class="arithmatex">\(\sim\)</span><code>/DS9QuickLookPlugIn/pyds9plugin_activity.log</code> whether the
function is launched from the terminal or <code>DS9</code> user interface.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../philosophy/" class="btn btn-neutral float-left" title="Development philosophy"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../license/" class="btn btn-neutral float-right" title="License">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/vpicouet/pyds9plugin-doc/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../philosophy/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../license/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../javascripts/mathjax.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
